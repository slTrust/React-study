<!DOCTYPE html>
<html lang="en">
<body>
<script>
{
    let x = {};
    window.setX = function(key,value){
        x[key] = value
    }

    window.f1 = function f1() {
        console.log(1);
        f2();
    }

    window.f2 = function f2() {
    //这里的 n2就是 f1里的 n1
        console.log(2);
        f3();
    }

    window.f3 = function f3() {
        console.log(3);
        f4();
    }

    window.f4 = function f4() {
        console.log(4,x['n']);
    }
}

{   
    window.setX('n',100)
    setTimeout(() => {
        window.f1();        
    }, 1000);
    console.log("done");
}

</script>
</body>
</html>